<!DOCTYPE html>
<html lang="gu">
<head>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рк╣рк░рк┐ркнркХрлНркд рк╢рк┐ркмрк┐рк░ ркмрлЛркЪрк╛рк╕ркг (30/03/2025)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        form {
            max-width: 500px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
            text-align: left;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            margin-top: 15px;
            padding: 10px 15px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #218838;
        }
        .error {
            color: red;
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>

    <h2>рк╣рк░рк┐ркнркХрлНркд рк╢рк┐ркмрк┐рк░ ркмрлЛркЪрк╛рк╕ркг (30/03/2025)</h2>

    <form id="surveyForm">
        <label for="name">ркирк╛рко:</label>
        <input type="text" id="name" required>

        <label for="father_husband">рккрк┐ркдрк╛ / рккркдрк┐ ркирлБркВ ркирк╛рко:</label>
        <input type="text" id="father_husband" required>

        <label for="surname">ркЕркЯркХ:</label>
        <input type="text" id="surname" required>
        <p id="surnameError" class="error"></p>

        <label for="mobile">ркорлЛркмрк╛ркИрк▓ ркиркВркмрк░:</label>
        <input type="text" id="mobile" pattern="[6-9]\d{9}" required title="10 ркЕркВркХркирлЛ ркнрк╛рк░ркдрлАркп ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░ ркжрк╛ркЦрк▓ ркХрк░рлЛ">

        <label for="fee">рк╢рлБрк▓рлНркХ рлирлж рк░рлВрккрк┐ркпрк╛:</label>
        <input type="radio" name="fee" value="yes" required> рк╣рк╛ркВ
        <input type="radio" name="fee" value="no"> ркирк╛

        <label for="position">рк╣рлЛркжрлНркжрлЛ:</label>
        <input type="radio" name="position" value="рк╣рк░рк┐ркнркХрлНркд" required> рк╣рк░рк┐ркнркХрлНркд
        <input type="radio" name="position" value="рк░ркЬрк┐рк╕рлНркЯрк░рлНркб ркХрк╛рк░рлНркпркХрк░"> рк░ркЬрк┐рк╕рлНркЯрк░рлНркб ркХрк╛рк░рлНркпркХрк░
        <input type="radio" name="position" value="рк╕ркВрккрк░рлНркХ ркХрк╛рк░рлНркпркХрк░"> рк╕ркВрккрк░рлНркХ ркХрк╛рк░рлНркпркХрк░

        <label for="activity">рккрлНрк░рк╡рлГркдрлНркдрк┐:</label>
        <input type="radio" name="activity" value="рк╕ркВркпрлБркХркд" required> рк╕ркВркпрлБркХркд
        <input type="radio" name="activity" value="ркорк╣рк┐рк▓рк╛"> ркорк╣рк┐рк▓рк╛
        <input type="radio" name="activity" value="ркпрлБрк╡рк╛"> ркпрлБрк╡рк╛
        <input type="radio" name="activity" value="ркпрлБрк╡ркдрлА"> ркпрлБрк╡ркдрлА

        <label for="zone">ркЭрлЛрки:</label>
        <select id="zone" required>
            <option value="">Select</option>
            <option value="ркмрлЛркЪрк╛рк╕ркг">ркмрлЛркЪрк╛рк╕ркг - рккрлВ. ркпрлЛркЧрлАрк░рк╛ркЬ рк╕рлНрк╡рк╛ркорлА</option>
            <option value="ркмркжрк▓рккрлБрк░">ркмркжрк▓рккрлБрк░ - рккрлВ. ркжрлАрк╡рлНркпркоркВркЧрк▓ рк╕рлНрк╡рк╛ркорлА</option>
            <option value="ркЦркВркнрк╛ркд">ркЦркВркнрк╛ркд - рккрлВ.ркЧрлБркгрк╡рк▓рлНрк▓ркн рк╕рлНрк╡рк╛ркорлА</option>
        </select>

        <label for="area">ркХрлНрк╖рлЗркдрлНрк░:</label>
        <select id="area" required>
            <option value="">Select</option>
        </select>

        <label for="mandal">ркоркВркбрк│:</label>
        <select id="mandal" required>
            <option value="">Select</option>
        </select>

        <button type="submit">Submit</button>
        <p id="message"></p>
    </form>

    <script>
     
        // Dynamic Dropdown Logic for Area & Mandal
        const zoneDropdown = document.getElementById("zone");
        const areaDropdown = document.getElementById("area");
        const mandalDropdown = document.getElementById("mandal");

        const areaOptions = {
            "ркЦркВркнрк╛ркд": ["ркЦркВркнрк╛ркд", "ркЙркирлНркбрлЗрк▓", "ркдрк╛рк░рк╛рккрлБрк░", "ркЦркВркнрк╛ркд ркпрлБрк╡рк╛", "ркдрк╛рк░рк╛рккрлБрк░ ркпрлБрк╡рк╛"],
            "ркмркжрк▓рккрлБрк░": ["ркмркжрк▓рккрлБрк░ рлз", "ркмркжрк▓рккрлБрк░ рли", "ркмркжрк▓рккрлБрк░ ркпрлБрк╡рк╛ рлз", "ркмркжрк▓рккрлБрк░ ркпрлБрк╡рк╛ рли"],
            "ркмрлЛркЪрк╛рк╕ркг": ["ркмрлЛркЪрк╛рк╕ркг", "ркмрлЛрк░рк╕ркж", "ркмрлЛркЪрк╛рк╕ркг ркпрлБрк╡рк╛", "ркмрлЛрк░рк╕ркж ркпрлБрк╡ркдрлА"]
        };

        const mandalOptions = {
            "ркЦркВркнрк╛ркд": ["ркоркВркбрк│ A", "ркоркВркбрк│ B"],
            "ркЙркирлНркбрлЗрк▓": ["ркоркВркбрк│ C", "ркоркВркбрк│ D"],
            "ркмркжрк▓рккрлБрк░ рлз": ["ркоркВркбрк│ E", "ркоркВркбрк│ F"],
            "ркмрлЛрк░рк╕ркж": ["ркоркВркбрк│ G", "ркоркВркбрк│ H"]
        };

        zoneDropdown.addEventListener("change", function() {
            const selectedZone = zoneDropdown.value;
            areaDropdown.innerHTML = '<option value="">Select</option>';
            if (selectedZone) {
                areaOptions[selectedZone].forEach(area => {
                    let option = document.createElement("option");
                    option.value = area;
                    option.textContent = area;
                    areaDropdown.appendChild(option);
                });
            }
        });

        areaDropdown.addEventListener("change", function() {
            const selectedArea = areaDropdown.value;
            mandalDropdown.innerHTML = '<option value="">Select</option>';
            if (selectedArea && mandalOptions[selectedArea]) {
                mandalOptions[selectedArea].forEach(mandal => {
                    let option = document.createElement("option");
                    option.value = mandal;
                    option.textContent = mandal;
                    mandalDropdown.appendChild(option);
                });
            }
        });

    </script>
    <script>

        // Your web app's Firebase configuration
       // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyCtSJKwhR2i6be6HOV9Hi6aaVSIQVNHwc8",
            authDomain: "shibir-2025.firebaseapp.com",
            projectId: "shibir-2025",
            storageBucket: "shibir-2025.firebasestorage.app",
            messagingSenderId: "607017196527",
            appId: "1:607017196527:web:092dc03ad13baad2b2f41a",
            measurementId: "G-GEDV49MMEH"
          };

         // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    
        // Initialize Firestore
        const db = firebase.firestore();
        
        // Firebase Firestore Integration
         document.getElementById("surveyForm").addEventListener("submit", async function(event) {
        event.preventDefault(); // Prevent page reload

        // Collect form data
        let formData = {
            name: document.getElementById("name").value,
            fatherOrHusbandName: document.getElementById("fatherHusbandName").value,
            surname: document.getElementById("surname").value,
            mobile: document.getElementById("mobile").value,
            feePaid: document.querySelector('input[name="feePaid"]:checked').value,
            role: document.querySelector('input[name="role"]:checked').value,
            activity: document.querySelector('input[name="activity"]:checked').value,
            zone: document.getElementById("zone").value,
            area: document.getElementById("area").value,
            mandal: document.getElementById("mandal").value
        };

        try {
            await db.collection("surveyResponses").add(formData);
            alert("рк╕рклрк│ркдрк╛рккрлВрк░рлНрк╡ркХ рк╕ркмркорк┐ркЯ ркеркпрлБркВ! тЬЕ");
            document.getElementById("surveyForm").reset(); // Clear form after submission
        } catch (error) {
            console.error("Firestore Error:", error);
            alert("ркдркорк╛рк░рлА ркПркирлНркЯрлНрк░рлА рк╕ркВркЧрлНрк░рк╣рк╡рк╛ркорк╛ркВ рк╕ркорк╕рлНркпрк╛ ркЖрк╡рлА. ЁЯФ┤");
        }
    });
    </script>

</body>
</html>
